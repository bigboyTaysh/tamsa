(this["webpackJsonptask-and-meeting-scheduler"]=this["webpackJsonptask-and-meeting-scheduler"]||[]).push([[0],{32:function(e,a,t){e.exports=t(61)},37:function(e,a,t){},61:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(30),o=t.n(s),l=(t(37),t(8)),u=t(9),i=t(5),c=t(11),m=t(10),d=t(4),g=t(1),h=t(13),p=t.n(h),b=(t(38),t(15)),v=t.n(b),E=function(e){Object(c.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(l.a)(this,t),(n=a.call(this,e)).onChangeUsername=n.onChangeUsername.bind(Object(i.a)(n)),n.onChangePassword=n.onChangePassword.bind(Object(i.a)(n)),n.onChangeConfirmPassword=n.onChangeConfirmPassword.bind(Object(i.a)(n)),n.onSubmit=n.onSubmit.bind(Object(i.a)(n)),n.state={username:"",password:"",confirmPassword:"",registrationError:""},n}return Object(u.a)(t,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"onChangeConfirmPassword",value:function(e){this.setState({confirmPassword:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var a={username:this.state.username,password:this.state.password,events:[]};a.password!==this.state.confirmPassword?this.setState({registrationError:"Has\u0142a musz\u0105 by\u0107 takie same"}):(v.a.post("http://192.168.1.21:5000/users/add",a).then((function(e){return console.log(e.data)})),this.setState({username:"",password:"",confirmPassword:"",registrationError:""}),this.props.history.push("/login"))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Zarejestruj si\u0119"),r.a.createElement("p",{style:{color:"red"}},this.state.registrationError),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Nazwa u\u017cytkownika: "),r.a.createElement("input",{type:"text",required:!0,className:"form-control",value:this.state.username,onChange:this.onChangeUsername}),r.a.createElement("input",{type:"password",required:!0,className:"form-control",value:this.state.password,onChange:this.onChangePassword}),r.a.createElement("input",{type:"password",required:!0,className:"form-control",value:this.state.confirmPassword,onChange:this.onChangeConfirmPassword})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",value:"Zarejestruj",className:"btn btn-primary"}))))}}]),t}(n.Component),f=function(e){Object(c.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(l.a)(this,t),(n=a.call(this,e)).onChangeUsername=n.onChangeUsername.bind(Object(i.a)(n)),n.onChangePassword=n.onChangePassword.bind(Object(i.a)(n)),n.onSubmit=n.onSubmit.bind(Object(i.a)(n)),n.state={username:"",password:"",loginError:"",loggedInStatus:n.props.loggedInStatus},n}return Object(u.a)(t,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"componentWillReceiveProps",value:function(e){this.setState({loggedInStatus:e.loggedInStatus,usename:e.username})}},{key:"onSubmit",value:function(e){var a=this;e.preventDefault();var t={username:this.state.username,password:this.state.password};v.a.post("http://192.168.1.21:5000/users/login",t).then((function(e){e.data?(a.setState({username:t.username,password:"",loginError:"",loggedInStatus:!0}),p.a.set("loggedInStatus",!0),p.a.set("username",t.username),a.props.updateHandler(!0,a.state.username),a.props.history.push("/")):a.setState({loginError:"Niew\u0142a\u015bciy login lub has\u0142o"})})).catch((function(e){a.setState({loginError:"B\u0142\u0105d logowania"+e})}))}},{key:"render",value:function(){return this.state.loggedInStatus?r.a.createElement(g.a,{to:{pathname:"/",state:{loggedInStatus:!0,username:this.state.username}}}):r.a.createElement("div",null,r.a.createElement("h3",null,"Zaloguj si\u0119"),r.a.createElement("p",{style:{color:"red"}},this.state.loginError),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Nazwa u\u017cytkownika: "),r.a.createElement("input",{type:"text",required:!0,className:"form-control",value:this.state.username,onChange:this.onChangeUsername}),r.a.createElement("input",{type:"password",required:!0,className:"form-control",value:this.state.password,onChange:this.onChangePassword})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",value:"Zaloguj",className:"btn btn-primary"}))))}}]),t}(n.Component),S=function(e){Object(c.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(l.a)(this,t),(n=a.call(this,e)).state={username:n.props.username,loggedInStatus:n.props.loggedInStatus},n}return Object(u.a)(t,[{key:"checkLoginStatus",value:function(){var e=this;"undefined"!==typeof this.state.username&&void 0!==this.state.username&&null!==this.state.username&&(console.log("wysy\u0142am: "+this.state.username),console.log("wysy\u0142am: "+this.state.loggedInStatus),v.a.post("http://localhost:5000/users/login_status",this.state.username).then((function(a){console.log("odebra\u0142em:"+a.data),e.setState({loggedInStatus:a.data})})))}},{key:"componentDidMount",value:function(){this.checkLoginStatus()}},{key:"render",value:function(){return this.state.loggedInStatus?r.a.createElement("h1",null,"ELOO ",this.state.username):r.a.createElement(g.a,{to:"/login"})}}]),t}(n.Component),w=function(e){Object(c.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(l.a)(this,t),n=a.call(this,e),p.a.remove("loggedInStatus"),p.a.remove("username",""),n}return Object(u.a)(t,[{key:"render",value:function(){return localStorage.setItem("loggedInStatus",!1),r.a.createElement("div",null,r.a.createElement("h3",null,"Wylogowano"),r.a.createElement(d.b,{to:"/login",className:"navbar-brand"},"Zaloguj si\u0119 ponownie"))}}]),t}(n.Component),j=function(e){Object(c.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(l.a)(this,t),(n=a.call(this,e)).state={loggedInStatus:n.props.loggedInStatus,username:n.props.username},n}return Object(u.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({loggedInStatus:e.loggedInStatus,username:e.username})}},{key:"render",value:function(){var e=this;return this.state.loggedInStatus?r.a.createElement("nav",{className:"navbar navbar-dark bg-dark navbar-expand-lg"},r.a.createElement(d.b,{to:"/",className:"navbar-brand"},"Terminarz"),r.a.createElement("div",{className:"collpase navbar-collapse"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"navbar-item"},r.a.createElement(d.b,{to:"/",className:"nav-link"},"Home")),r.a.createElement("li",null,r.a.createElement(d.b,{to:"/logout",className:"nav-link",onClick:function(){return e.props.updateHandler(!1,e.state.username)}},"Logout"))))):r.a.createElement("nav",{className:"navbar navbar-dark bg-dark navbar-expand-lg"},r.a.createElement(d.b,{to:"/",className:"navbar-brand"},"Terminarz"),r.a.createElement("div",{className:"collpase navbar-collapse"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"navbar-item"},r.a.createElement(d.b,{to:"/login",className:"nav-link"},"Login")),r.a.createElement("li",{className:"navbar-item"},r.a.createElement(d.b,{to:"/register",className:"nav-link"},"Rejestracja")))))}}]),t}(n.Component),y=function(e){Object(c.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(l.a)(this,t),(n=a.call(this,e)).updateHandler=function(e,a){n.setState({loggedInStatus:e,username:a})},n.updateHandler=n.updateHandler.bind(Object(i.a)(n)),void 0!==p.a.get("username")||""!==p.a.get("username")?n.state={loggedInStatus:p.a.get("loggedInStatus"),username:p.a.get("username")}:n.state={loggedInStatus:!1,username:""},n.updateHandler(),n}return Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(d.a,null,r.a.createElement("div",{className:"container"},r.a.createElement(j,{loggedInStatus:this.state.loggedInStatus,updateHandler:this.updateHandler}),r.a.createElement(g.d,null,r.a.createElement(g.b,{path:"/login",render:function(a){return r.a.createElement(f,Object.assign({updateHandler:e.updateHandler},a))}}),r.a.createElement(g.b,{path:"/register",component:E}),r.a.createElement(g.b,{path:"/logout",component:w}),r.a.createElement(g.b,{path:"/",render:function(a){return r.a.createElement(S,Object.assign({username:e.state.username,loggedInStatus:e.state.loggedInStatus},a))}})),r.a.createElement("br",null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.53188eea.chunk.js.map