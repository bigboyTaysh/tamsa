{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\wolak\\\\OneDrive\\\\SEM 6\\\\TPSI\\\\projekt\\\\task-and-meeting-scheduler\\\\src\\\\components\\\\login.component.js\";\nimport React, { Component } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport axios from \"axios\";\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeUsername = this.onChangeUsername.bind(this);\n    this.onChangePassword = this.onChangePassword.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.updateHandler = this.updateHandler.bind(this);\n    this.state = {\n      username: \"\",\n      password: \"\",\n      loginError: \"\",\n      loggedInStatus: props.loggedInStatus\n    };\n  }\n\n  onChangeUsername(e) {\n    this.setState({\n      username: e.target.value\n    });\n  }\n\n  onChangePassword(e) {\n    this.setState({\n      password: e.target.value\n    });\n  }\n\n  componentWillReceiveProps(props) {\n    this.setState({\n      loggedInStatus: props.loggedInStatus\n    });\n  }\n\n  updateHandler(e) {\n    //Remove arrow function\n    e.preventDefault();\n    console.log(\"Here1\");\n    this.props.updateHandler(true);\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const user = {\n      username: this.state.username,\n      password: this.state.password\n    };\n    this.setState({\n      loggedInStatus: true\n    });\n    this.updateHandler(e); //this.props.history.push(\"/\");\n\n    /*\r\n    axios\r\n      .post(\"http://localhost:5000/users/addToSession\", user)\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        if (res.data) {\r\n            this.props.loggedInStatus = true;\r\n        } else {\r\n            this.setState({\r\n                loginError: \"Niewłaściy login lub hasło\",\r\n              });\r\n                this.props.updateHandler(true);\r\n              this.props.history.push(\"/\");\r\n              this.setState({\r\n                loggedInStatus: true\r\n              });\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        this.setState({\r\n          loginError: \"Błąd logowania\",\r\n        });\r\n      });\r\n      */\n  }\n\n  render() {\n    if (this.state.loggedInStatus) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 14\n        }\n      });\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }\n      }, \"Zaloguj si\\u0119\"), /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          color: \"red\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }\n      }, this.state.loginErrorError), /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.onSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 15\n        }\n      }, \"Nazwa u\\u017Cytkownika: \"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        required: true,\n        className: \"form-control\",\n        value: this.state.username,\n        onChange: this.onChangeUsername,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"password\",\n        required: true,\n        className: \"form-control\",\n        value: this.state.password,\n        onChange: this.onChangePassword,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 15\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Zaloguj\",\n        className: \"btn btn-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 15\n        }\n      }))));\n    }\n  }\n\n}","map":{"version":3,"sources":["C:/Users/wolak/OneDrive/SEM 6/TPSI/projekt/task-and-meeting-scheduler/src/components/login.component.js"],"names":["React","Component","Link","Redirect","axios","Login","constructor","props","onChangeUsername","bind","onChangePassword","onSubmit","updateHandler","state","username","password","loginError","loggedInStatus","e","setState","target","value","componentWillReceiveProps","preventDefault","console","log","user","render","color","loginErrorError"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nexport default class Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChangeUsername = this.onChangeUsername.bind(this);\r\n    this.onChangePassword = this.onChangePassword.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.updateHandler = this.updateHandler.bind(this);\r\n\r\n    this.state = {\r\n      username: \"\",\r\n      password: \"\",\r\n      loginError: \"\",\r\n      loggedInStatus: props.loggedInStatus,\r\n    };\r\n  }\r\n\r\n  onChangeUsername(e) {\r\n    this.setState({\r\n      username: e.target.value,\r\n    });\r\n  }\r\n\r\n  onChangePassword(e) {\r\n    this.setState({\r\n      password: e.target.value,\r\n    });\r\n  }\r\n\r\n\r\n\r\n  componentWillReceiveProps(props) {\r\n    this.setState({ loggedInStatus: props.loggedInStatus })\r\n  }\r\n\r\n  updateHandler(e){ //Remove arrow function\r\n    e.preventDefault();\r\n    console.log(\"Here1\");\r\n    this.props.updateHandler(true);\r\n\r\n};\r\n\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    const user = {\r\n      username: this.state.username,\r\n      password: this.state.password,\r\n    };\r\n\r\n    this.setState({\r\n      loggedInStatus: true,\r\n    });\r\n\r\n\r\n\r\n    this.updateHandler(e);\r\n\r\n    //this.props.history.push(\"/\");\r\n\r\n    /*\r\n    axios\r\n      .post(\"http://localhost:5000/users/addToSession\", user)\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        if (res.data) {\r\n            this.props.loggedInStatus = true;\r\n        } else {\r\n            this.setState({\r\n                loginError: \"Niewłaściy login lub hasło\",\r\n              });\r\n\r\n              this.props.updateHandler(true);\r\n              this.props.history.push(\"/\");\r\n              this.setState({\r\n                loggedInStatus: true\r\n              });\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        this.setState({\r\n          loginError: \"Błąd logowania\",\r\n        });\r\n      });\r\n      */\r\n  }\r\n\r\n  render() {\r\n    if (this.state.loggedInStatus) {\r\n      return <Redirect to=\"/\" />;\r\n    } else {\r\n      return (\r\n        <div>\r\n          <h3>Zaloguj się</h3>\r\n          <p style={{ color: \"red\" }}>{this.state.loginErrorError}</p>\r\n\r\n          <form onSubmit={this.onSubmit}>\r\n            <div className=\"form-group\">\r\n              <label>Nazwa użytkownika: </label>\r\n              <input\r\n                type=\"text\"\r\n                required\r\n                className=\"form-control\"\r\n                value={this.state.username}\r\n                onChange={this.onChangeUsername}\r\n              />\r\n              <input\r\n                type=\"password\"\r\n                required\r\n                className=\"form-control\"\r\n                value={this.state.password}\r\n                onChange={this.onChangePassword}\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"submit\"\r\n                value=\"Zaloguj\"\r\n                className=\"btn btn-primary\"\r\n              />\r\n            </div>\r\n          </form>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}