{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\wolak\\\\OneDrive\\\\SEM 6\\\\TPSI\\\\projekt\\\\task-and-meeting-scheduler\\\\src\\\\components\\\\logout.component.js\";\nimport React, { Component } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport axios from \"axios\";\nexport default class Logout extends Component {\n  constructor(props) {\n    super(props);\n    localStorage.removeItem(\"loggedInStatus\");\n  }\n\n  onChangeUsername(e) {\n    this.setState({\n      username: e.target.value\n    });\n  }\n\n  onChangePassword(e) {\n    this.setState({\n      password: e.target.value\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const user = {\n      username: this.state.username,\n      password: this.state.password\n    }; //this.props.loggedInStatus = true;\n\n    this.state.loggedInStatus = true;\n    localStorage.setItem(\"loggedInStatus\", true);\n    /*\r\n    axios\r\n      .post(\"http://localhost:5000/users/addToSession\", user)\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        if (res.data) {\r\n            this.props.loggedInStatus = true;\r\n        } else {\r\n            this.setState({\r\n                loginError: \"Niewłaściy login lub hasło\",\r\n              });\r\n            \r\n              this.props.history.push(\"/\");\r\n              this.props.loggedInStatus = true;\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        this.setState({\r\n          loginError: \"Błąd logowania\",\r\n        });\r\n      });\r\n      */\n  }\n\n  render() {\n    if (this.state.loggedInStatus) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 14\n        }\n      });\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }\n      }, \"Wylogowano\"), /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          color: \"red\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }\n      }, this.state.loginErrorError), /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.onSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 15\n        }\n      }, \"Nazwa u\\u017Cytkownika: \"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        required: true,\n        className: \"form-control\",\n        value: this.state.username,\n        onChange: this.onChangeUsername,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"password\",\n        required: true,\n        className: \"form-control\",\n        value: this.state.password,\n        onChange: this.onChangePassword,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 15\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Zaloguj\",\n        className: \"btn btn-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 15\n        }\n      }))));\n    }\n  }\n\n}","map":{"version":3,"sources":["C:/Users/wolak/OneDrive/SEM 6/TPSI/projekt/task-and-meeting-scheduler/src/components/logout.component.js"],"names":["React","Component","Link","Redirect","axios","Logout","constructor","props","localStorage","removeItem","onChangeUsername","e","setState","username","target","value","onChangePassword","password","onSubmit","preventDefault","user","state","loggedInStatus","setItem","render","color","loginErrorError"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,EAAeC,QAAf,QAA+B,kBAA/B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe,MAAMC,MAAN,SAAqBJ,SAArB,CAA+B;AAC5CK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AAEAC,IAAAA,YAAY,CAACC,UAAb,CAAwB,gBAAxB;AACD;;AAEDC,EAAAA,gBAAgB,CAACC,CAAD,EAAI;AAClB,SAAKC,QAAL,CAAc;AACZC,MAAAA,QAAQ,EAAEF,CAAC,CAACG,MAAF,CAASC;AADP,KAAd;AAGD;;AAEDC,EAAAA,gBAAgB,CAACL,CAAD,EAAI;AAClB,SAAKC,QAAL,CAAc;AACZK,MAAAA,QAAQ,EAAEN,CAAC,CAACG,MAAF,CAASC;AADP,KAAd;AAGD;;AAEDG,EAAAA,QAAQ,CAACP,CAAD,EAAI;AACVA,IAAAA,CAAC,CAACQ,cAAF;AAEA,UAAMC,IAAI,GAAG;AACXP,MAAAA,QAAQ,EAAE,KAAKQ,KAAL,CAAWR,QADV;AAEXI,MAAAA,QAAQ,EAAE,KAAKI,KAAL,CAAWJ;AAFV,KAAb,CAHU,CAQV;;AACA,SAAKI,KAAL,CAAWC,cAAX,GAA4B,IAA5B;AACAd,IAAAA,YAAY,CAACe,OAAb,CAAqB,gBAArB,EAAuC,IAAvC;AAEA;;;;;;;;;;;;;;;;;;;;;;AAsBD;;AAEDC,EAAAA,MAAM,GAAG;AACP,QAAI,KAAKH,KAAL,CAAWC,cAAf,EAA+B;AAC7B,0BAAO,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAC,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACD,KAFD,MAEO;AACL,0BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AAAG,QAAA,KAAK,EAAE;AAAEG,UAAAA,KAAK,EAAE;AAAT,SAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA6B,KAAKJ,KAAL,CAAWK,eAAxC,CAFF,eAIE;AAAM,QAAA,QAAQ,EAAE,KAAKR,QAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCADF,eAEE;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,QAAQ,MAFV;AAGE,QAAA,SAAS,EAAC,cAHZ;AAIE,QAAA,KAAK,EAAE,KAAKG,KAAL,CAAWR,QAJpB;AAKE,QAAA,QAAQ,EAAE,KAAKH,gBALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,eASE;AACE,QAAA,IAAI,EAAC,UADP;AAEE,QAAA,QAAQ,MAFV;AAGE,QAAA,SAAS,EAAC,cAHZ;AAIE,QAAA,KAAK,EAAE,KAAKW,KAAL,CAAWJ,QAJpB;AAKE,QAAA,QAAQ,EAAE,KAAKD,gBALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QATF,CADF,eAkBE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AACE,QAAA,IAAI,EAAC,QADP;AAEE,QAAA,KAAK,EAAC,SAFR;AAGE,QAAA,SAAS,EAAC,iBAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAlBF,CAJF,CADF;AAiCD;AACF;;AA7F2C","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nexport default class Logout extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    localStorage.removeItem(\"loggedInStatus\");\r\n  }\r\n\r\n  onChangeUsername(e) {\r\n    this.setState({\r\n      username: e.target.value,\r\n    });\r\n  }\r\n\r\n  onChangePassword(e) {\r\n    this.setState({\r\n      password: e.target.value,\r\n    });\r\n  }\r\n\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    const user = {\r\n      username: this.state.username,\r\n      password: this.state.password,\r\n    };\r\n\r\n    //this.props.loggedInStatus = true;\r\n    this.state.loggedInStatus = true;\r\n    localStorage.setItem(\"loggedInStatus\", true);\r\n\r\n    /*\r\n    axios\r\n      .post(\"http://localhost:5000/users/addToSession\", user)\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        if (res.data) {\r\n            this.props.loggedInStatus = true;\r\n        } else {\r\n            this.setState({\r\n                loginError: \"Niewłaściy login lub hasło\",\r\n              });\r\n            \r\n              this.props.history.push(\"/\");\r\n              this.props.loggedInStatus = true;\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        this.setState({\r\n          loginError: \"Błąd logowania\",\r\n        });\r\n      });\r\n      */\r\n  }\r\n\r\n  render() {\r\n    if (this.state.loggedInStatus) {\r\n      return <Redirect to=\"/\"/>;\r\n    } else {\r\n      return (\r\n        <div>\r\n          <h3>Wylogowano</h3>\r\n          <p style={{ color: \"red\" }}>{this.state.loginErrorError}</p>\r\n        \r\n          <form onSubmit={this.onSubmit}>\r\n            <div className=\"form-group\">\r\n              <label>Nazwa użytkownika: </label>\r\n              <input\r\n                type=\"text\"\r\n                required\r\n                className=\"form-control\"\r\n                value={this.state.username}\r\n                onChange={this.onChangeUsername}\r\n              />\r\n              <input\r\n                type=\"password\"\r\n                required\r\n                className=\"form-control\"\r\n                value={this.state.password}\r\n                onChange={this.onChangePassword}\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"submit\"\r\n                value=\"Zaloguj\"\r\n                className=\"btn btn-primary\"\r\n              />\r\n            </div>\r\n          </form>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}